Backported compatibility shims from ``CPython`` for improved cleanup of readonly temporary directories on cleanup.
